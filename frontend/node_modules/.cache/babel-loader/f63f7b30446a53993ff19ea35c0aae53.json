{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DULANJALI\\\\Desktop\\\\ITP_EXAM\\\\frontend\\\\src\\\\components\\\\Exam\\\\GenReport\\\\GenReport.js\";\nimport React, { Component } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport { IoIosArrowForward } from \"react-icons/io\";\nimport axios from 'axios';\nimport moment from 'moment';\nimport GeneratePDF from './GeneratePDF';\nimport { Bar } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stay = {\n  labelsA: [],\n  dataA: []\n};\n\nclass GenReport extends Component {\n  constructor(props) {\n    super(props); // Function Binding\n\n    this.onChangeSearch = this.onChangeSearch.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      examId: '',\n      name: '',\n      Year: 0,\n      Module: '',\n      date: '',\n      timeStart: '',\n      timeEnd: '',\n      notice: '',\n      mark: [{\n        stdID: '',\n        mark: 0\n      }],\n      tmpID: '',\n      tmpMark: null,\n      sta: {\n        labels: [],\n        datasets: [{\n          label: 'Rainfall',\n          backgroundColor: 'rgba(75,192,192,1)',\n          borderColor: 'rgba(0,0,0,1)',\n          borderWidth: 2,\n          data: []\n        }]\n      }\n    };\n  }\n\n  onSubmit() {\n    axios.get('http://localhost:8070/exam/get/' + this.state.examId).then(response => {\n      console.log(response.data.exam);\n      this.setState({\n        examId: response.data.exam.examId,\n        name: response.data.exam.name,\n        Year: response.data.exam.Year,\n        Module: response.data.exam.Module,\n        date: moment(response.data.exam.date).format('DD-MM-YYYY'),\n        timeStart: response.data.exam.timeStart,\n        timeEnd: response.data.exam.timeEnd,\n        notice: response.data.exam.notice,\n        mark: response.data.exam.mark\n      });\n      console.log(\"Bar Chart\");\n      stay.labelsA.splice(response.data.exam.mark[0].stdID);\n\n      for (let index = 0; index < response.data.exam.mark.length; index++) {\n        console.log(\"Chart Data : \" + response.data.exam.mark[index].stdID);\n        stay.labelsA.push(response.data.exam.mark[index].stdID);\n        console.log(\"Chart Data : \" + response.data.exam.mark[index].mark);\n        stay.dataA.push(response.data.exam.mark[index].mark);\n        console.log(\"Chart Data STD : \" + stay.labelsA);\n        console.log(\"Chart Data Data : \" + stay.dataA);\n      }\n\n      this.setState({\n        sta: {\n          labels: [...stay.labelsA],\n          datasets: [{\n            label: 'Exam Marks',\n            backgroundColor: 'rgba(75,192,192,1)',\n            borderColor: 'rgba(0,0,0,1)',\n            borderWidth: 2,\n            data: [...stay.dataA]\n          }]\n        }\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  onChangeSearch(e) {\n    this.setState({\n      examId: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar navbar-expand-lg navbar-light bg-light\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"navbar-nav\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(NavLink, {\n              className: \"nav-link\",\n              to: \"/home\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(IoIosArrowForward, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 71\n              }, this), \" Home\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(NavLink, {\n              className: \"nav-link\",\n              to: \"/ExamComponet\",\n              children: \"|  Exam\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(NavLink, {\n              className: \"nav-link\",\n              to: \"/NewExamCompt\",\n              children: \"|  Modyfy Exam Page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-start m-3\",\n        children: \" Genarate Exam Marks Reports \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar navbar-expand-lg navbar-light bg-light\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group m-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            class: \"form-control\",\n            placeholder: \"Type here Exam ID . . .\",\n            \"aria-label\": \"Recipient's username\",\n            \"aria-describedby\": \"button-addon2\",\n            value: this.state.examId,\n            onChange: this.onChangeSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn btn-outline-secondary btn-primary text-white px-3\",\n            type: \"submit\",\n            id: \"examId\",\n            onClick: this.onSubmit,\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-75\",\n        children: /*#__PURE__*/_jsxDEV(Bar, {\n          data: this.state.sta,\n          options: {\n            title: {\n              display: true,\n              text: 'Average Rainfall per month',\n              fontSize: 20\n            },\n            legend: {\n              display: true,\n              position: 'right'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-start m-3\",\n        children: \" Result \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"shadow my-3 p-3 rounded bg-dark bg-gradient text-white\",\n                    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"w-25\",\n                          children: \"Exam ID\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 176,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"\",\n                          children: [\" \", this.state.examId, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 177,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 175,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \" Exam Name \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 180,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"\",\n                          children: [\" \", this.state.name, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 181,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 179,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \" Year \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 184,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"\",\n                          children: [\" \", this.state.Year, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 185,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \" Module \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 188,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"\",\n                          children: [\" \", this.state.Module, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 189,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 187,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \" Date \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 192,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"\",\n                          children: [\" \", this.state.date, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 193,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 191,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \" Time  \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 196,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"\",\n                          children: [\" \", this.state.timeStart, \"  To \", this.state.timeEnd, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 197,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 195,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Notice\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 200,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"\",\n                          children: [\" \", this.state.notice, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 201,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(Link, {\n                      className: \"btn btn-primary m-2\",\n                      to: `/ComponetAddMark/${this.state.examId}`,\n                      children: \" Add Marks \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-danger m-2\",\n                      onClick: () => {\n                        const idExm = this.state.examId;\n                        console.log(this.state.examId);\n                        axios.delete(\"http://localhost:8070/exam/delete/\" + idExm).then(() => {\n                          alert(\"Exam Deleted\");\n                          window.location = '/ExamComponet';\n                        }).catch(err => {\n                          alert(err);\n                        });\n                      },\n                      children: \" Delete \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-warning\",\n            onClick: () => GeneratePDF(this.state.mark, this.state.subject, this.state.grade, this.state.name),\n            children: \"Download Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        class: \"g-3 p-3\",\n        children: this.state.mark.map((val, key) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" my-3 row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control ms-2\",\n                id: \"stdId\",\n                value: val.stdID\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                className: \"form-control\",\n                id: \"mark\",\n                value: val.mark\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default GenReport;","map":{"version":3,"sources":["C:/Users/DULANJALI/Desktop/ITP_EXAM/frontend/src/components/Exam/GenReport/GenReport.js"],"names":["React","Component","Link","NavLink","IoIosArrowForward","axios","moment","GeneratePDF","Bar","stay","labelsA","dataA","GenReport","constructor","props","onChangeSearch","bind","onSubmit","state","examId","name","Year","Module","date","timeStart","timeEnd","notice","mark","stdID","tmpID","tmpMark","sta","labels","datasets","label","backgroundColor","borderColor","borderWidth","data","get","then","response","console","log","exam","setState","format","splice","index","length","push","catch","error","e","target","value","render","title","display","text","fontSize","legend","position","idExm","delete","alert","window","location","err","subject","grade","map","val","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {  Link, NavLink } from 'react-router-dom';\r\nimport { IoIosArrowForward } from \"react-icons/io\";\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport GeneratePDF from './GeneratePDF'\r\nimport { Bar } from 'react-chartjs-2';\r\n\r\nconst stay=\r\n    {labelsA: [],\r\n    dataA:[]};\r\n\r\n\r\nclass GenReport extends Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n           \r\n        // Function Binding\r\n        this.onChangeSearch = this.onChangeSearch.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    \r\n        this.state = {\r\n            examId: '',\r\n            name: '',\r\n            Year: 0,\r\n            Module: '',\r\n            date: '',\r\n            timeStart: '',\r\n            timeEnd: '',\r\n            notice: '',\r\n            mark: [{\r\n              stdID: '',\r\n              mark:0\r\n            }],\r\n            tmpID:'',\r\n            tmpMark:null,\r\n            sta :{\r\n              labels: [],\r\n              datasets: [\r\n                {\r\n                  label: 'Rainfall',\r\n                  backgroundColor: 'rgba(75,192,192,1)',\r\n                  borderColor: 'rgba(0,0,0,1)',\r\n                  borderWidth: 2,\r\n                  data: []\r\n                }\r\n              ]\r\n            }\r\n          }\r\n\r\n        \r\n      }\r\n\r\n      onSubmit() {\r\n        axios.get('http://localhost:8070/exam/get/'+this.state.examId)\r\n        .then(response => {\r\n            console.log(response.data.exam);\r\n            this.setState({\r\n                examId: response.data.exam.examId,\r\n                name: response.data.exam.name,\r\n                Year: response.data.exam.Year,\r\n                Module: response.data.exam.Module,\r\n                date: moment(response.data.exam.date).format('DD-MM-YYYY'),\r\n                timeStart: response.data.exam.timeStart,\r\n                timeEnd: response.data.exam.timeEnd,\r\n                notice: response.data.exam.notice,\r\n                mark: response.data.exam.mark,\r\n       })\r\n\r\n       console.log(\"Bar Chart\");\r\n       stay.labelsA.splice(response.data.exam.mark[0].stdID);\r\n\r\n    for (let index = 0; index < response.data.exam.mark.length; index++) {\r\n        console.log(\"Chart Data : \"+response.data.exam.mark[index].stdID);\r\n        stay.labelsA.push(response.data.exam.mark[index].stdID);\r\n        console.log(\"Chart Data : \"+response.data.exam.mark[index].mark);\r\n        stay.dataA.push(response.data.exam.mark[index].mark);\r\n        console.log(\"Chart Data STD : \"+stay.labelsA); \r\n        console.log(\"Chart Data Data : \"+stay.dataA); \r\n    }\r\n\r\n    this.setState({\r\n\r\n        sta:{\r\n            labels:[... stay.labelsA],\r\n            datasets:[{\r\n                label: 'Exam Marks',\r\n                backgroundColor: 'rgba(75,192,192,1)',\r\n                borderColor: 'rgba(0,0,0,1)',\r\n                borderWidth: 2,\r\n                data: [... stay.dataA]\r\n            }]\r\n        }\r\n        \r\n    })\r\n   })\r\n   .catch((error) => {\r\n     console.log(error);\r\n   })\r\n\r\n   \r\n}\r\n\r\nonChangeSearch(e) {\r\n    this.setState({\r\n        examId: e.target.value\r\n    })\r\n}\r\n      \r\n \r\n\r\n    render(){\r\n\r\n        return (\r\n            <React.Fragment>\r\n                \r\n                <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n                    <ul className=\"navbar-nav\">\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"nav-link\" to=\"/home\"> <IoIosArrowForward /> Home</NavLink>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"nav-link\" to=\"/ExamComponet\">|  Exam</NavLink>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"nav-link\" to=\"/NewExamCompt\">|  Modyfy Exam Page</NavLink>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n                <h1 className=\"text-start m-3\"> Genarate Exam Marks Reports </h1>\r\n\r\n                <div className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n                    <div class=\"input-group m-3\">\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Type here Exam ID . . .\" \r\n                        aria-label=\"Recipient's username\" \r\n                        aria-describedby=\"button-addon2\"\r\n                        value={this.state.examId}\r\n                        onChange={this.onChangeSearch} />\r\n                        <button class=\"btn btn-outline-secondary btn-primary text-white px-3\" \r\n                        type=\"submit\" id=\"examId\"\r\n                        onClick={this.onSubmit}\r\n                        >Search</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"w-75\">\r\n                   \r\n                    <Bar\r\n                    data={this.state.sta}\r\n                    options={{\r\n                        title:{\r\n                        display:true,\r\n                        text:'Average Rainfall per month',\r\n                        fontSize:20\r\n                        },\r\n                        legend:{\r\n                        display:true,\r\n                        position:'right'\r\n                        }\r\n                    }}\r\n                    />\r\n                </div>\r\n\r\n\r\n                <h3 className=\"text-start m-3\"> Result </h3>\r\n                <div>\r\n                    <form>\r\n                        <div>\r\n                            <div>\r\n                    <form>\r\n                        <div>\r\n                        <div className=\"shadow my-3 p-3 rounded bg-dark bg-gradient text-white\"> \r\n                                <table>\r\n                                    <tr>\r\n                                        <th className=\"w-25\">Exam ID</th>\r\n                                        <td className=\"\"> {this.state.examId} </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th> Exam Name </th>\r\n                                        <td className=\"\"> {this.state.name} </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th> Year </th>\r\n                                        <td className=\"\"> {this.state.Year} </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th> Module </th>\r\n                                        <td className=\"\"> {this.state.Module} </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th> Date </th>\r\n                                        <td className=\"\"> {this.state.date} </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th> Time  </th>\r\n                                        <td className=\"\"> {this.state.timeStart}  To {this.state.timeEnd} </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>Notice</th>\r\n                                        <td className=\"\"> {this.state.notice} </td>\r\n                                    </tr>\r\n                                    \r\n                                </table>\r\n                                <Link className=\"btn btn-primary m-2\" to={`/ComponetAddMark/${this.state.examId}`} > Add Marks </Link>\r\n                                <button className=\"btn btn-danger m-2\"\r\n                                    onClick={() => {\r\n                                        const idExm = this.state.examId\r\n                                        console.log(this.state.examId)\r\n                                        axios.delete(\"http://localhost:8070/exam/delete/\"+idExm).then(() => {\r\n                                            alert(\"Exam Deleted\")\r\n                                            window.location = '/ExamComponet';\r\n                                        }).catch((err) => {\r\n                                            alert(err)\r\n                                        })\r\n                                    }}\r\n                                    > Delete </button>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </form>\r\n                </div>\r\n                        </div>\r\n                        <button className=\"btn btn-warning\"\r\n                        onClick={() => GeneratePDF(this.state.mark, this.state.subject, this.state.grade, this.state.name)}\r\n                        >Download Report</button>\r\n                    </form>\r\n\r\n                </div>\r\n                <form class=\"g-3 p-3\" >\r\n                {\r\n                    \r\n                    this.state.mark.map((val, key) => {\r\n                        return(\r\n                            <div className=\" my-3 row\">\r\n                                    <div class=\"col-auto\">\r\n                                        <input type=\"text\" className=\"form-control ms-2\" id=\"stdId\" value={val.stdID} />\r\n                                    </div>\r\n                                    <div className=\"col-auto\">\r\n                                        <input type=\"number\" className=\"form-control\" id=\"mark\" value={val.mark} />\r\n                                    </div>\r\n                                    \r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n                    \r\n                </form>\r\n     \r\n\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GenReport;"]},"metadata":{},"sourceType":"module"}