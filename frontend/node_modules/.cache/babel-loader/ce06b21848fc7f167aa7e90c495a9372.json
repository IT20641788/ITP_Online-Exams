{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DULANJALI\\\\Desktop\\\\ITP_Online Exam -copy\\\\frontend\\\\src\\\\components\\\\Exam\\\\AddMark\\\\AddMark.js\";\nimport React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { IoIosArrowForward } from \"react-icons/io\";\nimport axios from 'axios';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddMark extends Component {\n  constructor(props) {\n    super(props); // Function Binding\n\n    this.onChangeTmpStd = this.onChangeTmpStd.bind(this);\n    this.onChangeTmpMark = this.onChangeTmpMark.bind(this);\n    this.addButtonClicked = this.addButtonClicked.bind(this); // this.deleteMark = this.deleteMark.bind(this);\n\n    console.log(props.examId);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      examId: '',\n      name: '',\n      grade: 0,\n      subject: '',\n      date: '',\n      timeStart: '',\n      timeEnd: '',\n      notice: '',\n      mark: [{\n        stdID: '',\n        mark: 0\n      }],\n      tmpStd: '',\n      tmpMark: null\n    };\n  }\n\n  componentDidMount() {\n    console.log('name', this.props.name);\n    axios.get('http://localhost:5000/backend/examR/' + this.props.name).then(response => {\n      console.log(response.data);\n      console.log(response.data);\n      console.log(response.data.examId);\n      this.setState({\n        examId: response.data.examId,\n        name: response.data.name,\n        grade: response.data.grade,\n        subject: response.data.subject,\n        date: moment(response.data.date).format('DD-MM-YYYY'),\n        timeStart: response.data.timeStart,\n        timeEnd: response.data.timeEnd,\n        notice: response.data.notice,\n        mark: response.data.mark\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  onChangeTmpStd(e) {\n    this.setState({\n      tmpStd: e.target.value\n    });\n  }\n\n  onChangeTmpMark(e) {\n    this.setState({\n      tmpMark: e.target.value\n    });\n  }\n\n  addButtonClicked(e) {\n    try {\n      if (this.state.tmpMark != null && this.state.tmpStd != null) {\n        if (this.state.tmpMark > 0 && this.state.tmpMark <= 100) {\n          const [...desI] = this.state.tmpStd;\n          console.log(desI);\n\n          if (desI[0] === 'S' && desI[1] === 'T' && desI[2] === 'D' && desI[3] >= 0 && desI[3] <= 9 && desI[4] >= 0 && desI[4] <= 9) {\n            const result = this.state.mark.find(({\n              stdID\n            }) => stdID === this.state.tmpStd);\n            console.log(\"result of find STD : \" + result);\n\n            if (result === undefined) {\n              this.setState(prevState => ({\n                mark: [...prevState.mark, {\n                  stdID: this.state.tmpStd,\n                  mark: this.state.tmpMark\n                }]\n              })); // this.setState({\n              //     mark:[this.state.mark, {\n              //         stdID: this.state.tmpStd,\n              //         mark: this.state.tmpMark\n              //     }]\n              // })\n\n              console.log(`ID ${this.state.mark}`);\n            } else {\n              alert(\"Mark of student already has Enterd\");\n            }\n          } else {\n            alert(\"Please Enter Valide Student ID Format\");\n          }\n        } else {\n          alert(\"please Enter valide Mark\");\n        }\n      } else {\n        alert(\"please Enter both Student ID or Mark\");\n      }\n    } catch (err) {\n      alert(\"Error : Student ID length should be 5  \" + err);\n    }\n  }\n\n  deleteMark(key) {\n    console.log(`Delete Mark ${this.state.mark.splice(key, 1)}`);\n    this.setState({\n      mark: [this.state.mark]\n    });\n    console.log(`ID ${this.state.mark} `);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const exercise = {\n      examId: this.state.examId,\n      name: this.state.name,\n      grade: this.state.grade,\n      subject: this.state.subject,\n      date: this.state.date,\n      timeStart: this.state.timeStart,\n      timeEnd: this.state.timeEnd,\n      notice: this.state.notice,\n      mark: this.state.mark\n    };\n    console.log('exercise ', exercise);\n    axios.put('http://localhost:5000/exam/update/mark/' + this.props.name, exercise).then(res => {\n      console.log(res.data);\n      alert(\"Submit Marks\");\n      window.location = '/CompSearchExm';\n    }).catch(err => console.log('errror ', err));\n  } // const id = props.name;\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar navbar-expand-lg navbar-light bg-light\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"navbar-nav\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(NavLink, {\n              className: \"nav-link\",\n              to: \"/home\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(IoIosArrowForward, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 71\n              }, this), \" Home\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(NavLink, {\n              className: \"nav-link\",\n              to: \"/ExamComponet\",\n              children: \"|  Exam\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(NavLink, {\n              className: \"nav-link\",\n              to: \"/CompSearchExm\",\n              children: \"|  Search Page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(NavLink, {\n              className: \"nav-link\",\n              to: \"/ComponetAddMark\",\n              children: \"|  Add mark Page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-start m-3\",\n        children: \" Add Marks \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-primary bg-gradient my-3\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          class: \"row g-3 p-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control ms-2\",\n              id: \"examId\",\n              value: this.state.examId,\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"subject\",\n              value: this.state.subject,\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"date\",\n              value: this.state.date,\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-info bg-gradient my-3\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          class: \"row g-3 p-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control ms-2\",\n              id: \"tmpStd\",\n              placeholder: \"Type Student ID . . .\",\n              value: this.state.tmpStd,\n              onChange: this.onChangeTmpStd,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              id: \"\",\n              placeholder: \"Type Marks . . .\",\n              value: this.state.tmpMark,\n              onChange: this.onChangeTmpMark,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary px-5\",\n              id: \"addMark\",\n              onClick: this.addButtonClicked,\n              children: \" Add Mark \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-start m-3\",\n        children: \" Added Marks \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        class: \"g-3 p-3\",\n        onSubmit: this.onSubmit,\n        children: [this.state.mark.map((val, key) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" my-3 row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control ms-2\",\n                id: \"stdId\",\n                value: val.stdID\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                className: \"form-control\",\n                id: \"mark\",\n                value: val.mark\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: this.deleteMark.bind(this, key),\n                children: \" Delete Mark\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 29\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-success\",\n          children: \" Submit Marks \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddMark;","map":{"version":3,"sources":["C:/Users/DULANJALI/Desktop/ITP_Online Exam -copy/frontend/src/components/Exam/AddMark/AddMark.js"],"names":["React","Component","NavLink","IoIosArrowForward","axios","moment","AddMark","constructor","props","onChangeTmpStd","bind","onChangeTmpMark","addButtonClicked","console","log","examId","onSubmit","state","name","grade","subject","date","timeStart","timeEnd","notice","mark","stdID","tmpStd","tmpMark","componentDidMount","get","then","response","data","setState","format","catch","error","e","target","value","desI","result","find","undefined","prevState","alert","err","deleteMark","key","splice","preventDefault","exercise","put","res","window","location","render","map","val"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {  NavLink } from 'react-router-dom';\r\nimport { IoIosArrowForward } from \"react-icons/io\";\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\nclass AddMark extends Component{\r\n\r\n\r\n    constructor(props) {\r\n        super(props);        \r\n        // Function Binding\r\n        this.onChangeTmpStd = this.onChangeTmpStd.bind(this);\r\n        this.onChangeTmpMark = this.onChangeTmpMark.bind(this);\r\n        this.addButtonClicked = this.addButtonClicked.bind(this);\r\n        // this.deleteMark = this.deleteMark.bind(this);\r\n        \r\n        console.log(props.examId);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    \r\n        this.state = {\r\n          examId: '',\r\n          name: '',\r\n          grade: 0,\r\n          subject: '',\r\n          date: '',\r\n          timeStart: '',\r\n          timeEnd: '',\r\n          notice: '',\r\n          mark: [\r\n              {\r\n            stdID: '',\r\n            mark:0\r\n          }\r\n        ],\r\n          tmpStd:'',\r\n          tmpMark:null\r\n        }\r\n      }\r\n      \r\n      componentDidMount() {\r\n          console.log('name',this.props.name)\r\n        axios.get('http://localhost:5000/backend/examR/'+this.props.name)\r\n          .then(response => {\r\n            console.log(response.data);\r\n            console.log(response.data);\r\n            console.log(response.data.examId);\r\n              this.setState({\r\n                examId: response.data.examId,\r\n                name: response.data.name,\r\n                grade: response.data.grade,\r\n                subject: response.data.subject,\r\n                date: moment(response.data.date).format('DD-MM-YYYY'),\r\n                timeStart: response.data.timeStart,\r\n                timeEnd: response.data.timeEnd,\r\n                notice: response.data.notice,\r\n                mark: response.data.mark,\r\n              })\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          })\r\n\r\n          \r\n      }\r\n\r\n      onChangeTmpStd(e) {\r\n          this.setState({\r\n             tmpStd: e.target.value\r\n          })\r\n      }\r\n      onChangeTmpMark(e) {\r\n          this.setState({\r\n            tmpMark: e.target.value\r\n          })\r\n      }\r\n\r\n      addButtonClicked(e) {\r\n\r\n        try{\r\n            \r\n                    if(this.state.tmpMark != null && this.state.tmpStd != null){\r\n            \r\n                        if(this.state.tmpMark > 0 && this.state.tmpMark <= 100){\r\n            \r\n                          \r\n            \r\n                                const [ ...desI ] = this.state.tmpStd;\r\n                                console.log(desI);\r\n                                if(desI[0] === 'S' && desI[1] === 'T' && desI[2] ==='D' && desI[3] >= 0 && desI[3] <= 9 && desI[4] >= 0 && desI[4] <= 9){\r\n\r\n                                    const result = this.state.mark.find( ({ stdID }) => stdID === this.state.tmpStd );\r\n                                    console.log(\"result of find STD : \" + result);\r\n                                    if(result === undefined){\r\n                                        this.setState(prevState => ({\r\n                                            mark: [...prevState.mark, {\r\n                                                stdID: this.state.tmpStd,\r\n                                                mark: this.state.tmpMark\r\n                                            }]\r\n                                          }))\r\n\r\n                                        // this.setState({\r\n                                            \r\n                                        //     mark:[this.state.mark, {\r\n                                        //         stdID: this.state.tmpStd,\r\n                                        //         mark: this.state.tmpMark\r\n                                        //     }]\r\n                                            \r\n                                        // })\r\n                                        console.log(`ID ${this.state.mark}`);\r\n                                    }\r\n                                    else{\r\n                                        alert(\"Mark of student already has Enterd\");\r\n                                    }\r\n                                    \r\n                                }\r\n                                else{\r\n                                    alert(\"Please Enter Valide Student ID Format\");\r\n                                }\r\n                            \r\n                        }\r\n                        else{\r\n                            alert(\"please Enter valide Mark\");\r\n                        }\r\n            \r\n                    }\r\n                    else{\r\n                        alert(\"please Enter both Student ID or Mark\");\r\n                    }\r\n\r\n        }catch(err){\r\n            alert(\"Error : Student ID length should be 5  \" + err);\r\n        }\r\n        \r\n    }\r\n\r\n    deleteMark(key) {\r\n\r\n        \r\n        console.log(`Delete Mark ${this.state.mark.splice(key,1)}`);\r\n        \r\n        this.setState({\r\n            \r\n            mark:[ this.state.mark]\r\n            \r\n        })\r\n        \r\n        console.log(`ID ${this.state.mark} `);\r\n        \r\n    }\r\n\r\n\r\n      onSubmit(e) {\r\n        \r\n        e.preventDefault();\r\n    \r\n        const exercise = {\r\n          examId: this.state.examId,\r\n          name: this.state.name,\r\n          grade: this.state.grade,\r\n          subject: this.state.subject,\r\n          date: this.state.date,\r\n          timeStart: this.state.timeStart,\r\n          timeEnd: this.state.timeEnd,\r\n          notice: this.state.notice,\r\n          mark:this.state.mark\r\n        }\r\n        \r\n        console.log('exercise ', exercise);\r\n\r\n        axios.put('http://localhost:5000/exam/update/mark/' + this.props.name, exercise)\r\n          .then(res => {\r\n              console.log(res.data);\r\n              alert(\"Submit Marks\");\r\n              window.location = '/CompSearchExm';\r\n        }).catch(err => console.log('errror ', err))\r\n    \r\n      }\r\n\r\n    // const id = props.name;\r\n\r\n    render(){\r\n\r\n\r\n        return (\r\n            <React.Fragment>\r\n                \r\n                <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n                    <ul className=\"navbar-nav\">\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"nav-link\" to=\"/home\"> <IoIosArrowForward /> Home</NavLink>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"nav-link\" to=\"/ExamComponet\">|  Exam</NavLink>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"nav-link\" to=\"/CompSearchExm\">|  Search Page</NavLink>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <NavLink className=\"nav-link\" to=\"/ComponetAddMark\">|  Add mark Page</NavLink>\r\n                        </li>\r\n                        \r\n                    </ul>\r\n                </nav>\r\n                <h1 className=\"text-start m-3\"> Add Marks </h1>\r\n\r\n                {/* <UpdateFormExam name={id} /> */}\r\n\r\n                <div className=\"bg-primary bg-gradient my-3\">\r\n                    <form class=\"row g-3 p-3\">\r\n                        <div class=\"col-auto\">\r\n                            <input type=\"text\" className=\"form-control ms-2\" id=\"examId\" value={this.state.examId} disabled />\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                            <input type=\"text\" className=\"form-control\" id=\"subject\" value={this.state.subject} disabled />\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                            <input type=\"text\" className=\"form-control\" id=\"date\" value={this.state.date} disabled />\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"bg-info bg-gradient my-3\">\r\n                    <form class=\"row g-3 p-3\">\r\n                        <div class=\"col-auto\">\r\n                            <input type=\"text\" className=\"form-control ms-2\" id=\"tmpStd\" \r\n                            placeholder=\"Type Student ID . . .\"\r\n                            value={this.state.tmpStd}\r\n                            onChange={this.onChangeTmpStd}\r\n                            required />\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                            <input type=\"number\" className=\"form-control\" id=\"\" \r\n                            placeholder=\"Type Marks . . .\" \r\n                            value={this.state.tmpMark}\r\n                            onChange={this.onChangeTmpMark}\r\n                            required />\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                            <button type=\"button\" className=\"btn btn-primary px-5\" \r\n                            id=\"addMark\" onClick={this.addButtonClicked} > Add Mark </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                <h3 className=\"text-start m-3\"> Added Marks </h3>\r\n                <form class=\"g-3 p-3\" onSubmit={this.onSubmit}>\r\n                {\r\n                    \r\n                    this.state.mark.map((val, key) => {\r\n                        return(\r\n                            <div className=\" my-3 row\">\r\n                                    <div class=\"col-auto\">\r\n                                        <input type=\"text\" className=\"form-control ms-2\" id=\"stdId\" value={val.stdID} />\r\n                                    </div>\r\n                                    <div className=\"col-auto\">\r\n                                        <input type=\"number\" className=\"form-control\" id=\"mark\" value={val.mark} />\r\n                                    </div>\r\n                                    <div className=\"col-auto\">\r\n                                        <button className=\"btn btn-primary\" onClick={this.deleteMark.bind(this,key)} > Delete Mark</button>\r\n                                        \r\n                                    </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n                    <button type=\"submit\" className=\"btn btn-success\"> Submit Marks </button>\r\n                </form>\r\n                \r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddMark;"]},"metadata":{},"sourceType":"module"}